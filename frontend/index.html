<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MCAT Mastery</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/main.css?v=7">
    <link rel="stylesheet" href="css/planets.css?v=7">
    <link rel="stylesheet" href="css/animations.css?v=7">
    <link rel="stylesheet" href="css/landing.css?v=7">

    <!-- Firebase SDK (compat for simplicity) -->
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
</head>
<body>

    <!-- Galaxy Shimmer Background -->
    <canvas id="galaxy-canvas"></canvas>

    <!-- ═══════════════════════════════════════════════ -->
    <!-- LANDING PAGE (Pre-Login)                        -->
    <!-- ═══════════════════════════════════════════════ -->
    <div id="landing-screen" class="screen active">

        <!-- Nav -->
        <nav class="landing-nav">
            <a class="landing-logo" href="#">
                <span class="landing-logo-icon">&#x1F680;</span>
                <span class="landing-logo-text">MCAT Mastery</span>
            </a>
            <div class="landing-nav-actions">
                <button class="theme-toggle" aria-label="Toggle theme">&#x1F319;</button>
                <button class="btn-login" data-action="login">LOG IN</button>
                <button class="btn-cta" data-action="get-started">GET STARTED</button>
            </div>
        </nav>

        <!-- Hero -->
        <section class="landing-hero">
            <div class="hero-text">
                <h1 class="hero-heading">The free, fun way to master the MCAT!</h1>
                <p class="hero-subheading">Explore 7 planetary worlds, battle knowledge-creatures, and conquer every MCAT section through immersive, game-based learning.</p>
                <button class="btn-cta btn-cta-hero" data-action="get-started">GET STARTED</button>
                <br>
                <a class="hero-link" href="#" data-action="existing-account">I ALREADY HAVE AN ACCOUNT</a>
            </div>
            <div class="hero-illustration">
                <div class="hero-planet-container">
                    <div class="hero-planet hero-planet-1"></div>
                    <div class="hero-planet hero-planet-2"></div>
                    <div class="hero-planet hero-planet-3"></div>
                    <div class="hero-planet hero-planet-4"></div>
                    <div class="hero-rocket">&#x1F680;</div>
                </div>
            </div>
        </section>

        <!-- Features -->
        <div class="landing-features">
            <section class="feature-section">
                <div class="feature-text">
                    <h2 class="feature-heading feature-heading--green">free. fun. effective.</h2>
                    <p class="feature-body">Learning doesn't have to be painful. Our game-based approach keeps you motivated while you master the toughest concepts on the MCAT. Earn crystals, unlock creatures, and track progress across 7 worlds.</p>
                </div>
                <div class="feature-illustration feature-illust--green">&#x1F30D;</div>
            </section>

            <section class="feature-section">
                <div class="feature-text">
                    <h2 class="feature-heading feature-heading--blue">backed by science.</h2>
                    <p class="feature-body">Spaced repetition, active recall, and interleaving built right in. Our fog-reclamation system ensures you review at exactly the right time for maximum retention.</p>
                </div>
                <div class="feature-illustration feature-illust--blue">&#x1F9EC;</div>
            </section>

            <section class="feature-section">
                <div class="feature-text">
                    <h2 class="feature-heading feature-heading--purple">stay motivated.</h2>
                    <p class="feature-body">Daily streaks, XP rewards, creature companions, and cross-planet bridge missions keep you coming back. It's MCAT prep that actually feels like an adventure.</p>
                </div>
                <div class="feature-illustration feature-illust--purple">&#x1F9E0;</div>
            </section>
        </div>

        <!-- CTA -->
        <section class="landing-cta">
            <h2 class="landing-cta-heading">Learn anytime, anywhere.</h2>
            <div class="app-badges">
                <a href="#" class="app-badge">&#x1F34E; App Store</a>
                <a href="#" class="app-badge">&#x25B6;&#xFE0F; Google Play</a>
            </div>
            <button class="btn-cta btn-cta-large" data-action="get-started">GET STARTED &mdash; IT'S FREE</button>
        </section>

        <!-- Footer -->
        <footer class="landing-footer">
            <div class="footer-grid">
                <div class="footer-col">
                    <h4>About</h4>
                    <a href="#">Mission</a>
                    <a href="#">Team</a>
                    <a href="#">Careers</a>
                </div>
                <div class="footer-col">
                    <h4>Products</h4>
                    <a href="#">MCAT Mastery</a>
                    <a href="#">Podcast</a>
                    <a href="#">Blog</a>
                </div>
                <div class="footer-col">
                    <h4>Community</h4>
                    <a href="#">Discord</a>
                    <a href="#">Forums</a>
                    <a href="#">Events</a>
                </div>
                <div class="footer-col">
                    <h4>Support</h4>
                    <a href="#">Help Center</a>
                    <a href="#">Privacy</a>
                    <a href="#">Terms</a>
                </div>
            </div>
            <div class="footer-bottom">
                &copy; 2025 MCAT Mastery. All rights reserved.
            </div>
        </footer>
    </div>

    <!-- ═══════════════════════════════════════════════ -->
    <!-- LOADING SCREEN                                  -->
    <!-- ═══════════════════════════════════════════════ -->
    <div id="loading-screen" class="screen">
        <div class="loading-content">
            <h1 class="game-title">MCAT Mastery</h1>
            <p class="loading-subtitle">Reclaim the Light. Defeat Grimble.</p>
            <div class="loading-bar-container">
                <div class="loading-bar" id="loading-bar"></div>
            </div>
            <p class="loading-status" id="loading-status">Initializing LYRA...</p>
        </div>
    </div>

    <!-- ═══════════════════════════════════════════════ -->
    <!-- CHARACTER SELECT                                -->
    <!-- ═══════════════════════════════════════════════ -->
    <div id="character-select-screen" class="screen">
        <div class="screen-header">
            <h2>Choose Your Commander</h2>
            <p class="screen-subtitle">Who will lead the reclamation?</p>
        </div>
        <div id="commander-grid" class="commander-grid">
            <!-- Populated by JS -->
        </div>
        <div class="character-name-input">
            <label for="player-name">Commander Name</label>
            <input type="text" id="player-name" placeholder="Enter name..." maxlength="16">
        </div>
        <div id="resonance-picker" class="resonance-picker">
            <h3>Choose Your Resonance</h3>
            <div class="resonance-grid">
                <!-- Populated by JS -->
            </div>
        </div>
        <button id="btn-start-adventure" class="btn btn-primary btn-large" disabled>Begin Adventure</button>
    </div>

    <!-- ═══════════════════════════════════════════════ -->
    <!-- SHIP DASHBOARD (HUB)                            -->
    <!-- ═══════════════════════════════════════════════ -->
    <div id="dashboard-screen" class="screen">
        <header class="dashboard-header">
            <div class="player-info">
                <span class="player-name" id="hud-player-name">Commander</span>
                <span class="player-level" id="hud-level">Lv 1</span>
            </div>
            <div class="hud-resources">
                <div class="hud-item" id="hud-crystals" title="Energy Crystals">
                    <span class="hud-icon">&#x2728;</span>
                    <span class="hud-value" id="hud-crystal-count">0</span>
                </div>
                <div class="hud-item" id="hud-energy" title="Neural Charge">
                    <span class="hud-icon">&#x26A1;</span>
                    <span class="hud-value" id="hud-energy-count">6/6</span>
                </div>
                <div class="hud-item" id="hud-streak" title="Daily Streak">
                    <span class="hud-icon">&#x1F525;</span>
                    <span class="hud-value" id="hud-streak-count">0</span>
                </div>
            </div>
            <button class="btn btn-icon" id="btn-profile" title="Profile">&#x1F464;</button>
        </header>

        <div class="dashboard-body">
            <div class="lyra-greeting" id="lyra-greeting">
                <div class="lyra-avatar"></div>
                <div class="lyra-bubble">
                    <p id="lyra-message">Welcome back, Commander. Where shall we deploy today?</p>
                </div>
            </div>

            <div class="orbit-container">
                <div class="orbit-ring orbit-ring-1"></div>
                <div class="orbit-ring orbit-ring-2"></div>
                <div class="planet-orbit" id="planet-orbit">
                    <!-- 7 planet buttons rendered by dashboard.js -->
                </div>
                <div class="ship-hub" id="ship-hub">&#x1F680;</div>
            </div>

            <div class="dashboard-actions">
                <button class="btn-action-card" id="btn-notebook">
                    <span class="action-icon">&#x1F4D3;</span>
                    <span class="action-label">Notebook</span>
                </button>
                <button class="btn-action-card" id="btn-mem-games">
                    <span class="action-icon">&#x1F3AE;</span>
                    <span class="action-label">Mem-Games</span>
                </button>
                <button class="btn-action-card" id="btn-shop">
                    <span class="action-icon">&#x1F6D2;</span>
                    <span class="action-label">Shop</span>
                </button>
                <button class="btn-action-card" id="btn-bridges">
                    <span class="action-icon">&#x1F309;</span>
                    <span class="action-label">Bridges</span>
                </button>
            </div>
        </div>
    </div>

    <!-- ═══════════════════════════════════════════════ -->
    <!-- PLANET MAP                                      -->
    <!-- ═══════════════════════════════════════════════ -->
    <div id="planet-map-screen" class="screen">
        <header class="planet-header" id="planet-header">
            <button class="btn btn-icon btn-back" id="btn-back-dashboard">&#x2190;</button>
            <div class="planet-title-block">
                <h2 id="planet-name">Verdania</h2>
                <p id="planet-subject">Biology</p>
            </div>
            <div class="planet-progress">
                <div class="progress-ring" id="planet-progress-ring"></div>
                <span id="planet-progress-pct">0%</span>
            </div>
        </header>

        <div class="sector-list" id="sector-list">
            <!-- Populated by planet-map.js -->
        </div>

        <div class="tile-grid-container" id="tile-grid-container">
            <div class="tile-grid" id="tile-grid">
                <!-- Populated by planet-map.js -->
            </div>
        </div>
    </div>

    <!-- ═══════════════════════════════════════════════ -->
    <!-- MISSION (Guided Learning Player)                -->
    <!-- ═══════════════════════════════════════════════ -->
    <div id="mission-screen" class="screen">
        <header class="mission-header">
            <button class="btn btn-icon btn-back" id="btn-back-planet">&#x2190;</button>
            <div class="mission-progress-bar">
                <div class="mission-bar-fill" id="mission-bar-fill" style="width: 0%"></div>
            </div>
            <div class="mission-streak-counter" id="mission-streak">
                <span class="streak-icon">&#x1F525;</span>
                <span class="streak-num" id="mission-streak-num">0</span>
            </div>
        </header>

        <main class="mission-body" id="mission-body">
            <!-- Dynamic: learn segments, questions, creature encounters -->
        </main>

        <footer class="mission-footer" id="mission-footer">
            <!-- Dynamic: answer buttons, continue, submit -->
        </footer>
    </div>

    <!-- ═══════════════════════════════════════════════ -->
    <!-- GAME MODE (Mem-Games)                           -->
    <!-- ═══════════════════════════════════════════════ -->
    <div id="game-mode-screen" class="screen">
        <header class="game-header">
            <button class="btn btn-icon btn-back" id="btn-back-from-game">&#x2190;</button>
            <h2 id="game-mode-title">Mem-Game</h2>
            <div class="game-timer" id="game-timer">&#x23F1; --</div>
        </header>
        <main class="game-arena" id="game-arena">
            <!-- Populated by individual game engines -->
        </main>
    </div>

    <!-- ═══════════════════════════════════════════════ -->
    <!-- BRIDGE MISSION                                  -->
    <!-- ═══════════════════════════════════════════════ -->
    <div id="bridge-screen" class="screen">
        <header class="bridge-header">
            <button class="btn btn-icon btn-back" id="btn-back-from-bridge">&#x2190;</button>
            <h2>Bridge Mission</h2>
        </header>
        <div class="bridge-briefing" id="bridge-briefing">
            <!-- LYRA briefing + cross-planet visualization -->
        </div>
        <main class="bridge-body" id="bridge-body">
            <!-- Questions that span two subjects -->
        </main>
    </div>

    <!-- ═══════════════════════════════════════════════ -->
    <!-- NOTEBOOK (Field Notes / Neural Archive)         -->
    <!-- ═══════════════════════════════════════════════ -->
    <div id="notebook-screen" class="screen">
        <header class="notebook-header">
            <button class="btn btn-icon btn-back" id="btn-back-from-notebook">&#x2190;</button>
            <h2>&#x1F4D3; Neural Archive</h2>
        </header>
        <div class="notebook-tabs">
            <button class="tab active" data-tab="notes">Field Notes</button>
            <button class="tab" data-tab="glossary">Glossary</button>
            <button class="tab" data-tab="equations">Equations</button>
            <button class="tab" data-tab="figures">Figures</button>
        </div>
        <div class="notebook-content" id="notebook-content">
            <!-- Populated per tab -->
        </div>
    </div>

    <!-- ═══════════════════════════════════════════════ -->
    <!-- SHOP                                            -->
    <!-- ═══════════════════════════════════════════════ -->
    <div id="shop-screen" class="screen">
        <header class="shop-header">
            <button class="btn btn-icon btn-back" id="btn-back-from-shop">&#x2190;</button>
            <h2>&#x1F6D2; Crystal Exchange</h2>
            <div class="shop-balance">
                <span class="hud-icon">&#x2728;</span>
                <span id="shop-crystal-count">0</span>
            </div>
        </header>
        <div class="shop-tabs">
            <button class="tab active" data-tab="upgrades">&#x26A1; Upgrades</button>
            <button class="tab" data-tab="cosmetics">&#x1F3A8; Cosmetics</button>
            <button class="tab" data-tab="items">&#x1F4E6; Items</button>
        </div>
        <div class="shop-grid" id="shop-grid">
            <!-- Populated by shop.js -->
        </div>
    </div>

    <!-- ═══════════════════════════════════════════════ -->
    <!-- PROFILE                                         -->
    <!-- ═══════════════════════════════════════════════ -->
    <div id="profile-screen" class="screen">
        <header class="profile-header">
            <button class="btn btn-icon btn-back" id="btn-back-from-profile">&#x2190;</button>
            <h2>Commander Profile</h2>
        </header>
        <div class="profile-body" id="profile-body">
            <!-- Stats, resonance tree, achievements -->
        </div>
    </div>

    <!-- ═══════════════════════════════════════════════ -->
    <!-- TOAST / REWARD POPUP (overlay)                  -->
    <!-- ═══════════════════════════════════════════════ -->
    <div id="toast-container" class="toast-container"></div>
    <div id="reward-popup" class="reward-popup hidden">
        <div class="reward-content">
            <h3 id="reward-title">Sector Stabilized!</h3>
            <div class="reward-items" id="reward-items"></div>
            <button class="btn btn-primary" id="btn-collect-rewards">Collect</button>
        </div>
    </div>

    <!-- ═══════════════════════════════════════════════ -->
    <!-- SCRIPTS                                         -->
    <!-- ═══════════════════════════════════════════════ -->
    <!-- Data layer -->
    <script src="js/data/game-data.js?v=7"></script>
    <script src="js/data/player.js?v=7"></script>

    <!-- Systems -->
    <script src="js/systems/tts.js?v=7"></script>
    <script src="js/systems/fog.js?v=7"></script>
    <script src="js/systems/energy.js?v=7"></script>
    <script src="js/systems/streaks.js?v=7"></script>
    <script src="js/systems/resonance.js?v=7"></script>
    <script src="js/systems/creatures.js?v=7"></script>
    <script src="js/systems/galaxy-shimmer.js?v=7"></script>
    <script src="js/systems/theme.js?v=7"></script>

    <!-- Game Engines -->
    <script src="js/engines/game-engines.js?v=7"></script>

    <!-- Screens -->
    <script src="js/screens/landing.js?v=7"></script>
    <script src="js/screens/dashboard.js?v=7"></script>
    <script src="js/screens/planet-map.js?v=7"></script>
    <script src="js/screens/mission.js?v=7"></script>
    <script src="js/screens/character-select.js?v=7"></script>

    <!-- Core -->
    <script src="js/firebase.js?v=7"></script>
    <script src="js/app.js?v=7"></script>
</body>
</html>
